{"version":3,"file":"353.js","mappings":"2GAAA,SAASA,EAAgBC,EAAGC,GAC1B,OAAOF,EAAkBG,OAAOC,eAAiBD,OAAOC,eAAeC,OAAS,SAAUJ,EAAGC,GAC3F,OAAOD,EAAEK,UAAYJ,EAAGD,CAC1B,EAAGD,EAAgBC,EAAGC,EACxB,C,0GCCqBK,EAAa,SAAAC,GAAA,SAAAD,IAAA,OAAAC,EAAAC,MAAA,KAAAC,YAAA,KCJlC,IAAwBT,EAAGU,IDIOH,GCJVP,EDIUM,GCH9BK,UAAYT,OAAOU,OAAOF,EAAEC,WAAYX,EAAEW,UAAUE,YAAcb,EAAGG,EAAeH,EAAGU,GDGzD,IAAAI,EAAAR,EAAAK,UA4W/B,OA5W+BG,EAChCC,OAAA,SAAOC,GACLT,EAAAI,UAAMI,OAAME,KAAC,KAAAD,GAEbE,KAAKC,SAAU,EACfD,KAAKE,MAAQ,GACbF,KAAKG,OAAS,GACdH,KAAKI,MAAQ,GACbJ,KAAKK,eAAiB,KACtBL,KAAKM,gBAAkB,KACvBN,KAAKO,iBAAmB,MAGxBP,KAAKQ,oBAAqB,EAC1BR,KAAKS,iBAAmB,GACxBT,KAAKU,aAAe,KACpBV,KAAKW,cAAgB,KAErBX,KAAKY,UACP,EAAChB,EAEDiB,SAAA,SAASf,GACPT,EAAAI,UAAMoB,SAAQd,KAAC,KAAAD,GACfE,KAAKc,QAAUhB,EAAMiB,GACvB,EAACnB,EAEDgB,SAAA,WAAW,IAAAI,EAAA,KACTC,QAAQC,IAAI,CACVC,IAAIC,MAAMF,IAAI,UACdC,IAAIE,QAAQ,CACVC,OAAQ,MACRC,IAAKJ,IAAIK,MAAMC,UAAU,UAAY,wBAEtCC,KAAK,SAAAC,GAA6B,IAA3BxB,EAAMwB,EAAA,GAAEC,EAAaD,EAAA,GAC7BX,EAAKb,OAASA,EACda,EAAKd,MAAQ0B,EAAcC,MAAQ,GACnCb,EAAKf,SAAU,EACf6B,EAAEC,QACJ,EACF,EAACnC,EAEDoC,KAAA,WAAO,IAAAC,EAAA,KACL,OAAIjC,KAAKC,QACA6B,EAACI,IAAgB,MAIxBJ,EAAA,OAAKK,UAAU,iBACbL,EAAA,OAAKK,UAAU,aACbL,EAAA,UAAI,yBAGJA,EAAA,OAAKK,UAAU,oBACbL,EAAA,UAAI,mBACJA,EAAA,OAAKK,UAAU,QACbL,EAAA,OAAKK,UAAU,cACbL,EAAA,aAAO,eACPA,EAAA,SACEM,KAAK,OACLvB,SAAU,SAACf,GAAYmC,EAAKvB,aAAeZ,EAAMiB,GAAK,KAI1De,EAAA,OAAKK,UAAU,cACbL,EAAA,aACEA,EAAA,SACEM,KAAK,WACLC,QAASrC,KAAKQ,mBACd8B,SAAU,SAACvD,GAAQkD,EAAKzB,mBAAqBzB,EAAEwD,OAAOF,OAAS,IAEhE,IAAI,gDAITP,EAAA,OAAKK,UAAU,cACbL,EAAA,aAAO,qDACPA,EAAA,UACEU,UAAQ,EACRL,UAAU,cACVM,MAAM,iBACNH,SAAU,SAACvD,GACTkD,EAAKxB,iBAAmBiC,MAAMC,KAAK5D,EAAEwD,OAAOK,iBAAiBC,IAAI,SAAArD,GAAC,OAAIsD,SAAStD,EAAEuD,MAAM,EACzF,GAEC/C,KAAKG,OAAO0C,IAAI,SAACG,GAAK,OACrBlB,EAAA,UAAQmB,IAAKD,EAAME,KAAMH,MAAOC,EAAME,MACnCF,EAAMG,eACA,IAGbrB,EAAA,aAAO,oCAGTA,EAACsB,IAAM,CACLjB,UAAU,yBACVkB,QAAS,WAAF,OAAQpB,EAAKqB,YAAY,GACjC,eAIDxB,EAAA,OAAKK,UAAU,YACbL,EAAA,UAAI,kBACmB,IAAtB9B,KAAKE,MAAMqD,OACVzB,EAAA,SAAG,0BAEHA,EAAA,SAAOK,UAAU,SACfL,EAAA,aACEA,EAAA,UACEA,EAAA,UAAI,aACJA,EAAA,UAAI,UACJA,EAAA,UAAI,kBACJA,EAAA,UAAI,aAGRA,EAAA,aACG9B,KAAKE,MAAM2C,IAAI,SAACW,GAAI,OACnB1B,EAAA,MAAImB,IAAKO,EAAKN,IACZpB,EAAA,UAAK0B,EAAKC,cACV3B,EAAA,UAAK0B,EAAKE,SAAW,MAAQ,MAC7B5B,EAAA,UACG0B,EAAKG,cAAcJ,OAAS,EACzBC,EAAKG,cAAcC,KAAK,MACxB,OAEN9B,EAAA,UACEA,EAACsB,IAAM,CACLjB,UAAU,wBACVkB,QAAS,WAAF,OAAQpB,EAAK4B,WAAWL,EAAKN,GAAG,GACxC,WAIA,QAUnBpB,EAAA,OAAKK,UAAU,oBACbL,EAAA,UAAI,gCACJA,EAAA,OAAKK,UAAU,QACbL,EAAA,OAAKK,UAAU,cACbL,EAAA,aAAO,WACPA,EAAA,SACEM,KAAK,SACLD,UAAU,cACVY,MAAO/C,KAAKK,gBAAkB,GAC9ByD,QAAS,SAAC/E,GAAQkD,EAAK5B,eAAiBtB,EAAEwD,OAAOQ,KAAO,EACxDgB,YAAY,mBAIhBjC,EAAA,OAAKK,UAAU,cACbL,EAAA,aAAO,SACPA,EAACkC,IAAM,CACLjB,MAAO/C,KAAKM,gBACZ2D,QAASjE,KAAKG,OAAO+D,OAAO,SAACC,EAAKnB,GAEhC,OADAmB,EAAInB,EAAME,MAAQF,EAAMG,eACjBgB,CACT,EAAG,CAAC,GACJ7B,SAAU,SAACS,GAAYd,EAAK3B,gBAAkByC,CAAO,KAIzDjB,EAAA,OAAKK,UAAU,cACbL,EAAA,aAAO,YACPA,EAACkC,IAAM,CACLjB,MAAO/C,KAAKO,iBACZ0D,QAAS,CACP,KAAM,SACN,MAAO,UACP,OAAQ,WACR,KAAM,SACN,SAAY,YAEd3B,SAAU,SAACS,GAAYd,EAAK1B,iBAAmBwC,CAAO,KAI1DjB,EAACsB,IAAM,CACLjB,UAAU,yBACVkB,QAAS,WAAF,OAAQpB,EAAKmC,YAAY,GACjC,iBAOLtC,EAAA,OAAKK,UAAU,oBACbL,EAAA,UAAI,mBACJA,EAAA,OAAKK,UAAU,QACbL,EAAA,OAAKK,UAAU,cACbL,EAAA,aAAO,WACPA,EAAA,SACEM,KAAK,SACLD,UAAU,cACVtB,SAAU,SAACf,GAAYmC,EAAKtB,cAAgBb,EAAMiB,GAAK,EACvDgD,YAAY,0CAIhBjC,EAAA,OAAKW,MAAM,6BACTX,EAACsB,IAAM,CACLjB,UAAU,yBACVkB,QAAS,WAAF,OAAQpB,EAAKoC,WAAW,GAChC,qBAIDvC,EAACsB,IAAM,CACLjB,UAAU,yBACVkB,QAAS,WAAF,OAAQpB,EAAKqC,WAAW,GAChC,eAKHxC,EAAA,OAAKoB,GAAG,aAAaT,MAAM,yBAMvC,EAAC7C,EAED0D,WAAA,WAAa,IAAAiB,EAAA,KACLf,EAAOxD,KAAKU,cAAgBV,KAAKU,aAAaR,MAAM,GAE1D,GAAKsD,EAAL,CAKA,IAAMgB,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQlB,GACxBgB,EAASE,OAAO,WAAY1E,KAAKQ,oBACjCgE,EAASE,OAAO,gBAAiBC,KAAKC,UAAU5E,KAAKS,mBAErDU,IAAIE,QAAQ,CACVC,OAAQ,OACRC,IAAKJ,IAAIK,MAAMC,UAAU,UAAY,oBACrCoD,KAAML,EACNM,UAAW,SAACC,GAAG,OAAKA,CAAG,IACtBrD,KAAK,WACNP,IAAI6D,OAAOC,KAAK,CAAE7C,KAAM,WAAa,8BAEjCmC,EAAK7D,eAAc6D,EAAK7D,aAAaqC,MAAQ,IACjDwB,EAAK/D,oBAAqB,EAC1B+D,EAAK9D,iBAAmB,GACxB8D,EAAK3D,UACP,GAAE,MAAO,WACPO,IAAI6D,OAAOC,KAAK,CAAE7C,KAAM,SAAW,wBACrC,EArBA,MAFEjB,IAAI6D,OAAOC,KAAK,CAAE7C,KAAM,SAAW,iCAwBvC,EAACxC,EAEDiE,WAAA,SAAWqB,GAAQ,IAAAC,EAAA,KACZC,QAAQ,+CAEbjE,IAAIE,QAAQ,CACVC,OAAQ,SACRC,IAAKJ,IAAIK,MAAMC,UAAU,UAAY,qBAAuByD,IAC3DxD,KAAK,WACNP,IAAI6D,OAAOC,KAAK,CAAE7C,KAAM,WAAa,6BACrC+C,EAAKvE,UACP,GAAE,MAAO,WACPO,IAAI6D,OAAOC,KAAK,CAAE7C,KAAM,SAAW,wBACrC,EACF,EAACxC,EAEDwE,WAAA,WAAa,IAAAiB,EAAA,KACNrF,KAAKK,gBAAmBL,KAAKM,gBAKlCa,IAAIE,QAAQ,CACVC,OAAQ,OACRC,IAAKJ,IAAIK,MAAMC,UAAU,UAAY,oBACrCoD,KAAM,CACJS,OAAQtF,KAAKK,eACbkF,QAASvF,KAAKM,gBACdkF,SAAUxF,KAAKO,oBAEhBmB,KAAK,WACNP,IAAI6D,OAAOC,KAAK,CAAE7C,KAAM,WAAa,8BACrCiD,EAAKhF,eAAiB,KACtBgF,EAAK/E,gBAAkB,KACvB+E,EAAK9E,iBAAmB,MACxBuB,EAAEC,QACJ,GAAE,MAAO,WACPZ,IAAI6D,OAAOC,KAAK,CAAE7C,KAAM,SAAW,wBACrC,GApBEjB,IAAI6D,OAAOC,KAAK,CAAE7C,KAAM,SAAW,4BAqBvC,EAACxC,EAEDyE,UAAA,WAAY,IAAAoB,EAAA,KACJH,EAAStF,KAAKW,cAAgBX,KAAKW,cAAcoC,MAAQ,KAE1DuC,EAKLnE,IAAIE,QAAQ,CACVC,OAAQ,MACRC,IAAKJ,IAAIK,MAAMC,UAAU,UAAY,oBAAsB6D,IAC1D5D,KAAK,SAACgE,GACP,IAAM7D,EAAO6D,EAAS7D,KAChB8D,EAAYF,EAAK3E,SAAW2E,EAAK3E,QAAQ8E,cAAc,eAEzDD,IACFA,EAAUE,UAAY,mFAEOhE,EAAKiE,SAAQ,iDACTjE,EAAKkE,QAAU,MAAQ,MAAI,sBACtDlE,EAAKkE,QAAU,kCAAkClE,EAAKmE,KAAI,OAAS,IAAE,kBACrEnE,EAAKoE,aAAe,mCAAmCpE,EAAKoE,aAAiB,IAAE,gCAKvF9E,IAAI6D,OAAOC,KAAK,CAAE7C,KAAM,WAAa,wBACvC,GAAE,MAAO,SAAC8D,GACR/E,IAAI6D,OAAOC,KAAK,CAAE7C,KAAM,SAAW,4BACrC,GAzBEjB,IAAI6D,OAAOC,KAAK,CAAE7C,KAAM,SAAW,yBA0BvC,EAACxC,EAED0E,UAAA,WAAY,IAAA6B,EAAA,KACJb,EAAStF,KAAKW,cAAgBX,KAAKW,cAAcoC,MAAQ,KAE1DuC,EAKAF,QAAQ,mGAIbjE,IAAIE,QAAQ,CACVC,OAAQ,OACRC,IAAKJ,IAAIK,MAAMC,UAAU,UAAY,yBACrCoD,KAAM,CAAES,OAAQA,KACf5D,KAAK,SAACgE,GACP,IAAM7D,EAAO6D,EAAS7D,KACtBV,IAAI6D,OAAOC,KAAK,CAAE7C,KAAM,WAAaP,EAAKuE,SAG1C,IAAMT,EAAYQ,EAAKrF,SAAWqF,EAAKrF,QAAQ8E,cAAc,eACzDD,IACFA,EAAUE,UAAY,IAIpBM,EAAKxF,gBACPwF,EAAKxF,cAAcoC,MAAQ,GAE/B,GAAE,MAAO,WACP5B,IAAI6D,OAAOC,KAAK,CAAE7C,KAAM,SAAW,uBACrC,GA5BEjB,IAAI6D,OAAOC,KAAK,CAAE7C,KAAM,SAAW,yBA6BvC,EAAChD,CAAA,CA5W+B,CAASiH,I","sources":["webpack://@undertaker/fla-loader/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@undertaker/fla-loader/./js/src/admin/components/FlaLoaderPage.js","webpack://@undertaker/fla-loader/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"],"sourcesContent":["function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Select from 'flarum/common/components/Select';\n\nexport default class FlaLoaderPage extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    \n    this.loading = true;\n    this.files = [];\n    this.groups = [];\n    this.users = [];\n    this.selectedUserId = null;\n    this.selectedGroupId = null;\n    this.selectedDuration = '30d';\n    \n    // File upload state\n    this.uploadFileIsPublic = false;\n    this.uploadFileGroups = [];\n    this.fileInputRef = null;\n    this.hwidUserIdRef = null;\n    \n    this.loadData();\n  }\n  \n  oncreate(vnode) {\n    super.oncreate(vnode);\n    this.element = vnode.dom;\n  }\n\n  loadData() {\n    Promise.all([\n      app.store.all('groups'),\n      app.request({\n        method: 'GET',\n        url: app.forum.attribute('apiUrl') + '/fla-loader/files',\n      }),\n    ]).then(([groups, filesResponse]) => {\n      this.groups = groups;\n      this.files = filesResponse.data || [];\n      this.loading = false;\n      m.redraw();\n    });\n  }\n\n  view() {\n    if (this.loading) {\n      return <LoadingIndicator />;\n    }\n\n    return (\n      <div className=\"FlaLoaderPage\">\n        <div className=\"container\">\n          <h2>Fla Loader Management</h2>\n\n          {/* File Management Section */}\n          <div className=\"FlaLoaderSection\">\n            <h3>File Management</h3>\n            <div className=\"Form\">\n              <div className=\"Form-group\">\n                <label>Upload File</label>\n                <input\n                  type=\"file\"\n                  oncreate={(vnode) => { this.fileInputRef = vnode.dom; }}\n                />\n              </div>\n              \n              <div className=\"Form-group\">\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    checked={this.uploadFileIsPublic}\n                    onchange={(e) => { this.uploadFileIsPublic = e.target.checked; }}\n                  />\n                  {' '}Make file public (visible in Download page)\n                </label>\n              </div>\n              \n              <div className=\"Form-group\">\n                <label>Allowed Groups (hold Ctrl/Cmd to select multiple)</label>\n                <select\n                  multiple\n                  className=\"FormControl\"\n                  style=\"height: 120px;\"\n                  onchange={(e) => {\n                    this.uploadFileGroups = Array.from(e.target.selectedOptions).map(o => parseInt(o.value));\n                  }}\n                >\n                  {this.groups.map((group) => (\n                    <option key={group.id()} value={group.id()}>\n                      {group.nameSingular()}\n                    </option>\n                  ))}\n                </select>\n                <small>Leave empty to allow all groups</small>\n              </div>\n              \n              <Button\n                className=\"Button Button--primary\"\n                onclick={() => this.uploadFile()}\n              >\n                Upload File\n              </Button>\n              \n              <div className=\"FileList\">\n                <h4>Uploaded Files</h4>\n                {this.files.length === 0 ? (\n                  <p>No files uploaded yet.</p>\n                ) : (\n                  <table className=\"Table\">\n                    <thead>\n                      <tr>\n                        <th>File Name</th>\n                        <th>Public</th>\n                        <th>Allowed Groups</th>\n                        <th>Actions</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {this.files.map((file) => (\n                        <tr key={file.id}>\n                          <td>{file.originalName}</td>\n                          <td>{file.isPublic ? 'Yes' : 'No'}</td>\n                          <td>\n                            {file.allowedGroups.length > 0\n                              ? file.allowedGroups.join(', ')\n                              : 'All'}\n                          </td>\n                          <td>\n                            <Button\n                              className=\"Button Button--danger\"\n                              onclick={() => this.deleteFile(file.id)}\n                            >\n                              Delete\n                            </Button>\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Role Assignment Section */}\n          <div className=\"FlaLoaderSection\">\n            <h3>Time-Limited Role Assignment</h3>\n            <div className=\"Form\">\n              <div className=\"Form-group\">\n                <label>User ID</label>\n                <input\n                  type=\"number\"\n                  className=\"FormControl\"\n                  value={this.selectedUserId || ''}\n                  oninput={(e) => { this.selectedUserId = e.target.value; }}\n                  placeholder=\"Enter user ID\"\n                />\n              </div>\n\n              <div className=\"Form-group\">\n                <label>Group</label>\n                <Select\n                  value={this.selectedGroupId}\n                  options={this.groups.reduce((acc, group) => {\n                    acc[group.id()] = group.nameSingular();\n                    return acc;\n                  }, {})}\n                  onchange={(value) => { this.selectedGroupId = value; }}\n                />\n              </div>\n\n              <div className=\"Form-group\">\n                <label>Duration</label>\n                <Select\n                  value={this.selectedDuration}\n                  options={{\n                    '7d': '7 Days',\n                    '30d': '30 Days',\n                    '180d': '180 Days',\n                    '1y': '1 Year',\n                    'lifetime': 'Lifetime',\n                  }}\n                  onchange={(value) => { this.selectedDuration = value; }}\n                />\n              </div>\n\n              <Button\n                className=\"Button Button--primary\"\n                onclick={() => this.assignRole()}\n              >\n                Assign Role\n              </Button>\n            </div>\n          </div>\n\n          {/* HWID Management Section */}\n          <div className=\"FlaLoaderSection\">\n            <h3>HWID Management</h3>\n            <div className=\"Form\">\n              <div className=\"Form-group\">\n                <label>User ID</label>\n                <input\n                  type=\"number\"\n                  className=\"FormControl\"\n                  oncreate={(vnode) => { this.hwidUserIdRef = vnode.dom; }}\n                  placeholder=\"Enter user ID to check or reset HWID\"\n                />\n              </div>\n\n              <div style=\"display: flex; gap: 10px;\">\n                <Button\n                  className=\"Button Button--primary\"\n                  onclick={() => this.checkHwid()}\n                >\n                  Check HWID Status\n                </Button>\n                \n                <Button\n                  className=\"Button Button--warning\"\n                  onclick={() => this.resetHwid()}\n                >\n                  Reset HWID\n                </Button>\n              </div>\n\n              <div id=\"hwidStatus\" style=\"margin-top: 15px;\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  uploadFile() {\n    const file = this.fileInputRef && this.fileInputRef.files[0];\n    \n    if (!file) {\n      app.alerts.show({ type: 'error' }, 'Please select a file to upload');\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('isPublic', this.uploadFileIsPublic);\n    formData.append('allowedGroups', JSON.stringify(this.uploadFileGroups));\n\n    app.request({\n      method: 'POST',\n      url: app.forum.attribute('apiUrl') + '/fla-loader/files',\n      body: formData,\n      serialize: (raw) => raw,\n    }).then(() => {\n      app.alerts.show({ type: 'success' }, 'File uploaded successfully');\n      // Reset form\n      if (this.fileInputRef) this.fileInputRef.value = '';\n      this.uploadFileIsPublic = false;\n      this.uploadFileGroups = [];\n      this.loadData();\n    }).catch(() => {\n      app.alerts.show({ type: 'error' }, 'Failed to upload file');\n    });\n  }\n\n  deleteFile(fileId) {\n    if (!confirm('Are you sure you want to delete this file?')) return;\n\n    app.request({\n      method: 'DELETE',\n      url: app.forum.attribute('apiUrl') + '/fla-loader/files/' + fileId,\n    }).then(() => {\n      app.alerts.show({ type: 'success' }, 'File deleted successfully');\n      this.loadData();\n    }).catch(() => {\n      app.alerts.show({ type: 'error' }, 'Failed to delete file');\n    });\n  }\n\n  assignRole() {\n    if (!this.selectedUserId || !this.selectedGroupId) {\n      app.alerts.show({ type: 'error' }, 'Please fill in all fields');\n      return;\n    }\n\n    app.request({\n      method: 'POST',\n      url: app.forum.attribute('apiUrl') + '/fla-loader/roles',\n      body: {\n        userId: this.selectedUserId,\n        groupId: this.selectedGroupId,\n        duration: this.selectedDuration,\n      },\n    }).then(() => {\n      app.alerts.show({ type: 'success' }, 'Role assigned successfully');\n      this.selectedUserId = null;\n      this.selectedGroupId = null;\n      this.selectedDuration = '30d';\n      m.redraw();\n    }).catch(() => {\n      app.alerts.show({ type: 'error' }, 'Failed to assign role');\n    });\n  }\n\n  checkHwid() {\n    const userId = this.hwidUserIdRef ? this.hwidUserIdRef.value : null;\n\n    if (!userId) {\n      app.alerts.show({ type: 'error' }, 'Please enter a user ID');\n      return;\n    }\n\n    app.request({\n      method: 'GET',\n      url: app.forum.attribute('apiUrl') + '/fla-loader/hwid/' + userId,\n    }).then((response) => {\n      const data = response.data;\n      const statusDiv = this.element && this.element.querySelector('#hwidStatus');\n      \n      if (statusDiv) {\n        statusDiv.innerHTML = `\n          <div class=\"Alert Alert--info\">\n            <strong>User:</strong> ${data.username}<br>\n            <strong>Has HWID:</strong> ${data.hasHwid ? 'Yes' : 'No'}<br>\n            ${data.hasHwid ? `<strong>HWID Preview:</strong> ${data.hwid}<br>` : ''}\n            ${data.registeredAt ? `<strong>Registered At:</strong> ${data.registeredAt}` : ''}\n          </div>\n        `;\n      }\n      \n      app.alerts.show({ type: 'success' }, 'HWID status retrieved');\n    }).catch((error) => {\n      app.alerts.show({ type: 'error' }, 'Failed to get HWID status');\n    });\n  }\n\n  resetHwid() {\n    const userId = this.hwidUserIdRef ? this.hwidUserIdRef.value : null;\n\n    if (!userId) {\n      app.alerts.show({ type: 'error' }, 'Please enter a user ID');\n      return;\n    }\n\n    if (!confirm('Are you sure you want to reset this user\\'s HWID? They will be able to login from a new device.')) {\n      return;\n    }\n\n    app.request({\n      method: 'POST',\n      url: app.forum.attribute('apiUrl') + '/fla-loader/hwid/reset',\n      body: { userId: userId },\n    }).then((response) => {\n      const data = response.data;\n      app.alerts.show({ type: 'success' }, data.message);\n      \n      // Clear the status display\n      const statusDiv = this.element && this.element.querySelector('#hwidStatus');\n      if (statusDiv) {\n        statusDiv.innerHTML = '';\n      }\n      \n      // Clear the input\n      if (this.hwidUserIdRef) {\n        this.hwidUserIdRef.value = '';\n      }\n    }).catch(() => {\n      app.alerts.show({ type: 'error' }, 'Failed to reset HWID');\n    });\n  }\n}\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };"],"names":["_setPrototypeOf","t","e","Object","setPrototypeOf","bind","__proto__","FlaLoaderPage","_Component","apply","arguments","o","prototype","create","constructor","_proto","oninit","vnode","call","this","loading","files","groups","users","selectedUserId","selectedGroupId","selectedDuration","uploadFileIsPublic","uploadFileGroups","fileInputRef","hwidUserIdRef","loadData","oncreate","element","dom","_this","Promise","all","app","store","request","method","url","forum","attribute","then","_ref","filesResponse","data","m","redraw","view","_this2","LoadingIndicator","className","type","checked","onchange","target","multiple","style","Array","from","selectedOptions","map","parseInt","value","group","key","id","nameSingular","Button","onclick","uploadFile","length","file","originalName","isPublic","allowedGroups","join","deleteFile","oninput","placeholder","Select","options","reduce","acc","assignRole","checkHwid","resetHwid","_this3","formData","FormData","append","JSON","stringify","body","serialize","raw","alerts","show","fileId","_this4","confirm","_this5","userId","groupId","duration","_this6","response","statusDiv","querySelector","innerHTML","username","hasHwid","hwid","registeredAt","error","_this7","message","Component"],"ignoreList":[],"sourceRoot":""}